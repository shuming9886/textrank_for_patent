CN108833212A
一种适用于网络的计算机硬件监控系统

本发明公开了一种适用于网络的计算机硬件监控系统，包括带有监控装置的宿主计算机，以及通过网络与宿主计算机的监控装置连接的远程控制计算机。该监控装置带有一Ethernet端口，并带有自己的MAC地址和IP地址。该监控装置与远程控制计算机均联结到标准Ethernet/IP网络。本发明的计算机硬件监控网络系统将监控装置联结到Ethernet/IP网上，这样，任何一台连接在这个网络上的计算机经过授权都可以从监控装置获取宿主计算机上的环境信息，并直接通过操作监控系统来操作宿主计算机，而不需要专门的控制台，这样不仅灵活，不用铺设专用网络，而且成本低廉。

权利要求书
1.一种适用于网络的计算机硬件监控系统，其特征在于包括:所述网络为标准Ethernet/IP网络；所述监控装置包括一网络适配器，该网络适配器带有一Ethernet端口；所述监 控装置通过该网络适配器分配有一IP地址；所述监控装置通过所述Ethernet端口联 结到标准Ethernet/IP网络。

说明书
一种适用于网络的计算机硬件监控系统
技术领域
本发明涉及计算机系统领域，更具体地说，本发明涉及一种适用于网络的计算机硬件监控系统。
背景技术
随着计算机系统的复杂性越来越大，计算机的规模也越来越庞大，对宿主计算机尤其是服务器的监控和管理也越来越困难。为了提高计算机系统的易用性，降低 管理成本，达到更好的监控和管理服务器的目的，各种监控系统应运而生。例如曙 光的天目系统，联想的慧眼系统等等，浪潮也有同类监控系统产品。
现有的这些监控系统通常采用两种方式。一种是为要监控的宿主计算机的提供一个独立的监控装置，该监控系统实时监测宿主计算机的硬件状况，并通过宿主计 算机本地的显示装置将监测到的硬件环境信息显示出来。这种监控系统的缺点是只 能在宿主计算机本地对其硬件进行监测，无法进行远程监控。
为了实现远程的监测，另一种现有的监控系统是通过串口等专用网络将宿主计算机本地的监控装置与一台远程专用计算机连接，将该专用计算机作为远程控制台， 并采用自定义的监控协议和专用网络，以便实现对宿主计算机的远程监控。但是由 于这种系统采用自定义的监控协议和专用网络，不但造成监控信息传递的速度慢， 而且需要铺设新的网络，还需要在该控制台计算机上安装专用的软件。进一步，由 于通过串口通讯只能连接一台固定的计算机作控制台，操作管理起来很不灵活。
而且，上述现有的监控系统更多地提供监视功能，控制功能较弱。当发现宿主 计算机硬件发生故障时，一般来说，需要对宿主计算机进行复位操作，或者需要对 宿主计算机进行关机和开机操作。现有的监控系统可以监视硬件的故障，但是对于 前述的复位、开机和关机等控制操作还需要在宿主计算机本地对宿主计算机进行直 接操作。有时，还需要对宿主计算机的配置信息作出改变，现有的监控系统也无法 在远程控制计算机上实现，这显然是不方便的。
因此就需要有一种监控系统，能利用现有的标准网络实现多台远程控制计算机对宿主计算机的监控功能。
发明内容
本发明的主要目的是提供一种适用于网络的计算机硬件监控系统，该系统采用标准网络将远程控制计算机与宿主计算机的监控装置连接。
为了实现上述目的，本发明提供的基于网络的计算机硬件监控系统包括带有监控装置的宿主计算机，以及通过网络与宿主计算机的监控装置连接的远程控制计算 机；所述网络为标准Ethernet/IP网络；所述监控装置包括一网络适配器，该网络适 配器带有一Ethernet端口；所述监控装置通过该网络适配器分配有一IP地址；所述 监控装置通过所述Ethernet端口联结到标准Ethernet/IP网络。
所述远程控制计算机为多台联结到所述Ethernet/IP网络上的计算机。所述宿主计算机为多台联结到所述Ethernet/IP网络上的计算机，每一个宿主计算机都带有一 个所述的监控装置。
所述标准Ethernet/IP网络采用的通讯协议为标准的网络管理协议SNMP。
所述Ethernet/IP网络为100Mb/s的以太网。
所述监控装置为插在宿主计算机ISA或PCI插槽内的板卡，通过宿主计算机的 ISA总线或PCI总线与宿主计算机进行通讯。
所述监控装置还包括一用于存储宿主计算机和/或监控装置配置信息的存储器，该存储器为非易失存储器。
所述监控装置还包括一备用的串行端口。
本发明的优点在于：
(1)本发明将监控系统联结到Ethernet/IP网上，这样，任何一台连接在这个 网络上的计算机经过授权都可以作为远程控制计算机(控制台)，并从监控系统获取 宿主计算机上的环境信息，并直接通过操作监控系统来操作宿主计算机，而不需要 专门的控制台，这样不仅灵活，不用铺设专用网络，而且成本低廉。
(2)本发明的监控网络是100Mb/s的以太网，传输速度要比现有技术中采用的 普通的串口快一到两个数量级，传输速率高，实时性好，在监控大量(100台)以 上的计算机系统时优势明显。
(3)本发明的通讯协议采用标准的网络管理协议SNMP，该协议应用广泛，易 于同其他监控系统集成。
附图说明
图1是本发明的基于网络的计算机硬件监控系统示意图；
图2是图1的监控系统中的监控装置的结构示意图。
具体实施方式
下面结合附图和具体实施方式对本发明作进一步详细描述。
如图1所示的本发明计算机硬件监控网络系统，包括一个Ethernet/IP网络，该 网络最好为传输速率为100Mb/s的以太网。在本发明中，Ethernet/IP网络的通讯协 议采用标准的网络管理协议SNMP。多个宿主计算机(可简称宿主机)和多个远程 控制计算机联结于该Ethernet/IP网络上，以便通过该网络进行数据传输从而实现远 程控制计算机对宿主计算机的监控。在图1中，虽然示出了多个宿主计算机，包括 第1～n宿主计算机，但是应当理解，在本发明中并不限制宿主计算机的数量。同样 的，在图1中虽然示出了多个远程控制计算机，包括第1～m远程控制计算机，但是应当理解，在本发明中并不限制远程控制计算机的数量。在本发明中，联结到 Ethernet/IP网络的任何计算机都可以作为远程控制计算机并实现对宿主计算机的监 控。
如图1所示，在本发明中，宿主计算机都包括一监控装置100，该监控装置100 完成对宿主计算机硬件信息的采集与处理，还要完成与远程控制计算机的通讯。在 本发明中，监控装置100整体上形成为一块板卡，插在宿主计算机的主板的ISA或 PCI插槽内，通过宿主计算机的ISA总线或PCI总线与宿主计算机进行通讯。
监控装置100的具体结构如图2所示。监控处理器1是整个监控装置100的核 心，负责数据的收发、存储、监控命令的解析和执行。在本实施例中，监控处理器 1采用的是S3C4510B芯片，该芯片内部集成了以太网媒体访问控制器(MAC)。尽管 在本实施例中采用了内部集成网络适配器的监控处理器1，但是应当理解，在本发 明中监控处理器1也可以采用MPC860、8051等不集成网络适配器的芯片，而通过在 监控装置100的板卡上提供一个单独的网络适配器芯片来实现。通过一个单独的或 者集成在监控处理器1内的网络适配器，本发明的监控装置100具有自己的MAC地 址和IP地址，并通过以太网(Ethernet)端口2联结到图1所示的Ethernet/IP网络。 其他计算机可以通过Ethernet/IP网络与本监控系统建立联系，而监控处理器1通过 Ethernet端口2把所获得的信息传送给网络上经过授权的计算机，即图1中的远程 控制计算机。
如图2所示，监控装置100包括一个程序存储器3，该程序存储器3可采用FlashPROM，存储监控装置运行所必须的程序。环境信息采集芯片4负责采集宿主计算 机的环境信息，如电压、风扇转动情况、以及宿主计算机中的各个硬件部分的温度 等，并转换成数字量暂存起来，由监控处理器1定时读取，并由程序存储器3中的 程序对读取的数值进行分析和判断。在本实施例中，环境信息采集芯片4可采用 Winbond公司的W83782，NS公司的LM85等芯片。
为了实现监控装置100与宿主计算机之间的相互配置，本发明的监控装置100 还包括一个非易失存储器(NVRAM)5。该存储器5内存储有监控装置100本身或者 监控装置100所在宿主计算机的一些配置信息，例如，非易失存储器5内可以存储 有宿主计算机和/或监控装置100的网络适配器的MAC地址、IP地址等配置信息。 监控装置100的非易失存储器5通过系统总线被映射到宿主计算机的内存空间，其 中存储的配置信息可以直接读写。这样就可以实现宿主计算机与监控装置100之间 的相互配置。例如，可以通过宿主计算机配置监控装置100的网络适配器MAC地址 和IP地址，也可以通过监控装置100配置宿主计算机网卡的MAC地址和IP地址。
此外，和现有技术中一样，监控装置100的本地输入设备7供管理员在宿主计 算机本地控制或查询宿主计算机信息，所输入的信息直接输入给监控处理器1，经 过监控处理器1分析做相应的动作，如果是查询命令就可以通过本地显示屏8把宿 主机的环境信息、运行状态等运行信息在本地显示出来；如果是控制信息，就通过 控制信号输出端9来控制宿主机，进行包括上下电，复位，待机等控制。RS232串 行端口10为备用的通讯端口，通过该端口也可连接远程控制计算机，同远程控制计 算机进行通讯。系统总线接口11是监控装置同宿主计算机进行通讯的通道，在本发 明中，可采用ISA系统总线接口或者PCI系统总线接口。